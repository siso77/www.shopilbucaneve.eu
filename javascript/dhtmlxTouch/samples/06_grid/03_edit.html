<!DOCTYPE HTML>

<html>
	<head>
    <title>Grid: edit</title>
	<script src="../../codebase/touchui.js" type="text/javascript"></script>
	<link rel="STYLESHEET" type="text/css" href="../../codebase/touchui.css">
		
	</head>
	<body>
        <div style="border: 1px solid #ADADAD; width:450px;margin:50px;height:500px;">
            <div id="gridbox"></div>
        </div>

		<script type="text/javascript" charset="utf-8">
                dhx.ui({
                    container:"gridbox",
                    width:450,
                    height:500,
    				cells:[
    					{
                            view:"grid",
                            id:"mygrid",
                            select:true,
                            fields:[
                                {
                                    id:"Package",
                                    width:270,
                                    label:"Package Name",
                                    template:"#Package# <span style='color:#919191'>#Version#</span>",
                                    type:"custom"
                                },
                                {
                                    id:"Maintainer",
                                    width:180
                                }
                            ],
                            datatype:"json",
                            url:"data.json"
                        },
                        {
                            id:"formView",
                            rows:[
                                {
                                    view:"toolbar",
                                    elements:[
                                        {view:"button", value:"Cancel", click:"$$('mygrid').show()", inputWidth:100},
                                        {view:"button", value:"Save", click:"save", inputWidth:100,align:"right"}
                                    ]
                                },{
                                     view:"form", id:"myform", elements:[
                                        { gravity:1},
                                        { view:"text", label:"Package", labelWidth: 120, name:"Package" },
                                        { view:"text", label:"Mantainer",labelWidth: 120, name:"Maintainer" },
                                        { view:"text", label:"Version",labelWidth: 120, name:"Version" },
                                        { gravity:2}
                                    ]
                                }
                            ]

                        }
    				]
    			});
                $$('mygrid').attachEvent("onItemClick", function(){
                    $$('formView').show();
                });
                $$('myform').bind('mygrid');
                
                function save(){
                    $$('myform').save();
                    $$('mygrid').show();
                }

            

		

		</script>
	</body>
</html>