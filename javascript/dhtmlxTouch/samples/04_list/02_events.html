<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="../../codebase/touchui.css" type="text/css" media="screen" charset="utf-8">		
		<script src="../../codebase/touchui.js" type="text/javascript" charset="utf-8"></script>
        <link rel="stylesheet" href="list.css" type="text/css" media="screen" charset="utf-8">
        <title>List: events</title>
	</head>
	<body>

			<div style="border: 1px solid #ADADAD; width:700px;height:450px;margin:50px;">
                <div id="listbox" style='width:100%; height:100%;'></div>
            </div>	     

        <td valign="top"><div id="actions" style="border:1px solid #A4BED4;background-color:white;height:100%;overflow:auto; "></div>
        </tr>				
	</table>


		<script type="text/javascript" charset="utf-8">
            function log(ev,args){
                var message=ev;
                var div="<div>";
                message+='<ul style="padding:0 0 0 22px;margin:0;font:italic 60% verdana">';
                for (var i=0; i < args.length; i++) {
                    message+="<li>"+args[i];
                };
                message+='</ul>';
                div+=message+"</div";
                document.getElementById('actions').innerHTML=div+document.getElementById('actions').innerHTML;
            }
            dhx.ready(function(){
                dhx.ui({
                    container:"listbox",
                    type:"wide",
    				cols:[
                        {
                            width: 510,
                            id:"mylist",
                            view:"list",
                            template:"<div class='title'>#title#</div><div class='author'>by #author#</div>",
                            url:"books.xml",
                            datatype:"xml",
                            type:{
                                height: 35
                            },
                            select:1
                        },
                        {content:"actions"}
                    ]
    			});
                $$("mylist").attachEvent("onItemClick",function(id,ev,trg){
                    log("onItemClick",arguments)
                })
                $$("mylist").attachEvent("onafterselect",function(){
                    log("onafterselect",arguments)
                })
                $$("mylist").attachEvent("onbeforeselect",function(id){
                    log("onbeforeselect",arguments)
                })
                $$("mylist").attachEvent("onselectchange",function(){
                    log("onselectchange",arguments)
                })
            });
            
			
			
			
			
		</script>
	</body>
</html>