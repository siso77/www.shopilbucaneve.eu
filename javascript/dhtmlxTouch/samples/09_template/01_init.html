<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="../../codebase/touchui.css" type="text/css" media="screen" charset="utf-8">
		<script src="../../codebase/touchui.js" type="text/javascript" charset="utf-8"></script>
        <title>Template view</title>
	</head>
	<body>
		
	<div id="flight_template" style="display:none;">

		<div style="padding:10px; font-weight:bold;text-align:left;">
			#type# ticket
			<div class="title"></br>Depart:</div>
			<table><tr><td style="width:150px; color:#00688B;">#from#</td><td style="width:150px; color:#00688B;">#depart#</td></tr></table>
			<div class="title">Arrive:</div>
			<table><tr><td style="width:150px; color:#00688B;">#to#</td><td style="width:150px; color:#00688B;">#arrive#</td></tr></table>

			<div class="title">Adults:</div>
			<div style="color:#00688B;">#pnum#</div>
			<div class="title">Details:</div>
			<table style="font-size:13px">
				<tr><td style="width:150px; color:#00688B;" >Only direct flights</td><td style="color:#6C7B8B;">#changes#</td></tr>
				<tr><td style="color:#00688B;">Find hotel</td><td style="color:#6C7B8B;">#hotels#</td></tr>

				<tr><td style="color:#00688B;">Car hire</td><td style="color:#6C7B8B;">#hire#</td></tr>
			</table>
		</div>
	</div>
		
		<script type="text/javascript" charset="utf-8">

		dhx.ui({
			view:"window",
            position:"center",
            width:500,
            height:350,
            head:{
                view:"toolbar",
                id:"SubBar",
                type:"SubBar",
                elements:[
                    { view:"label", label: "Template view", align:'left'},
                    { view:"button", label: "Update", align:'right' ,id:"update", click:"update_view", width:150}
                ]
			},
			body:{
					id:"content",
					view:"template",
					url:"template_data.xml",datatype:"xml",
					template:"html->flight_template"
            }
		});
		
		
		var data = {
			type:"one way",
			from:"Berlin",
			to:"Oslo",
			depart:"2010-12-25",
			arrive:"2011-01-02",
			pnum:4,
			changes:"yes",
			hotels:"no",
			hire:"no"
		}
		function update_view(){
			$$("content").parse(data,"json");
		}

		</script>
	</body>
</html>
