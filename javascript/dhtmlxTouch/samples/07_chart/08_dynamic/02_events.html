<!doctype html>
<html>
<head>
	<title>Events</title>
	<script src="../../../codebase/touchui.js" type="text/javascript"></script>
	<link rel="STYLESHEET" type="text/css" href="../../../codebase/touchui.css">
	<script src="../common/chartdata.js"></script>
<body>
    <div id="chartDiv" style="width:900px;height:200px;margin:20px"></div>
	<script>
        dhx.ui({
            container:"chartDiv",
            rows:[
                {
                    type:"clean",
                    cols:[
                        {
                            id:"chart",
                            view:"chart",
                            type:"bar",
                            value:"#sales#",
                            color:"#b9a8f9",
                            yAxis:{
                                start:0,
                                end:100,
                                step:10,
                                template:function(obj){
                                    return (obj%20?"":obj)
                                }
                            },
                            xAxis:{
                                template:"'#year#"
                            },
                            barWidth:35,
                            radius:0,
                            gradient:"falling",
                            data: dataset
                        },
                        {
                            scroll:"y",template:'<div style="widht:100%; height:100%; font-family:Tahoma;"><div style="padding:10px;height:auto" id="log_div" ></div></div>'
                        }
                    ]
                }
            ]
        });


        $$("chart").attachEvent("onItemClick", function(id){
            var year = this.item(id).year;
            var sales = this.item(id).sales;

            var t = document.createElement("DIV");
            t.innerHTML = "'"+year+" => value = "+ sales;

            var p = document.getElementById("log_div");
            p.insertBefore(t, p.firstChild);
            return true;
        });

        

	</script>
</body>
</html>